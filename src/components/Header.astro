---
import { logComponentLifecycle } from '../lib/logger';

// Log component lifecycle
logComponentLifecycle('Header', 'render', {
  pathname: Astro.url.pathname,
});
---

<header class='bg-white shadow-sm border-b border-gray-200'>
  <div class='container-custom'>
    <div class='flex justify-between items-center h-16'>
      <div class='flex items-center'>
        <a href='/' class='flex-shrink-0'>
          <img class='h-8 w-auto' src='/favicon.svg' alt='Logo' />
        </a>
        <nav class='ml-10 flex space-x-8' role='navigation' aria-label='Main navigation'>
          <a
            href='/'
            class='nav-link'
            >Home</a
          >
          <a
            href='/contact'
            class='nav-link'
            >Contact</a
          >
        </nav>
      </div>
    </div>
  </div>
</header>

<script>
  // Client-side logging for user interactions
  import { logComponentLifecycle } from '../lib/logger';

  // Log when header becomes interactive
  logComponentLifecycle('Header', 'interactive', {
    pathname: window.location.pathname,
  });

  // Track navigation clicks
  document.querySelectorAll('header a').forEach(link => {
    link.addEventListener('click', e => {
      const target = e.target as HTMLAnchorElement;
      logComponentLifecycle('Header', 'navigation_click', {
        href: target.href,
        text: target.textContent?.trim(),
      });
    });
  });
</script>
