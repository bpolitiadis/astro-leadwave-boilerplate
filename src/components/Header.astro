---
import { logComponentLifecycle } from '../lib/logger';

// Log component lifecycle
logComponentLifecycle('Header', 'render', {
  pathname: Astro.url.pathname,
});
---

<header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-gray-100/50 shadow-sm" data-testid="header">
  <div class="container-custom">
    <nav id="navigation" class="flex items-center justify-between h-16 lg:h-20 px-32" role="navigation" aria-label="Main navigation">
      <!-- Logo -->
      <a href="/" class="flex items-center space-x-3 group transition-transform hover:scale-105" data-testid="logo-link">
        <div class="flex items-center justify-center w-10 h-10 bg-gradient-to-br from-primary-500 to-blue-600 rounded-xl shadow-sm group-hover:shadow-md transition-shadow">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
          </svg>
        </div>
        <span class="text-xl lg:text-2xl font-bold text-gray-900 tracking-tight group-hover:text-primary-600 transition-colors">Astro Boilerplate</span>
      </a>

      <!-- Navigation Links -->
      <div class="flex items-center space-x-16">
        <a
          href="/"
          class={`nav-link-modern ${Astro.url.pathname === '/' ? 'nav-link-active' : ''}`}
          data-testid="nav-home"
        >
          Home
        </a>
        <a
          href="/components"
          class={`nav-link-modern ${Astro.url.pathname === '/components' ? 'nav-link-active' : ''}`}
          data-testid="nav-components"
        >
          Components
        </a>
        <a
          href="/contact"
          class={`nav-link-modern ${Astro.url.pathname === '/contact' ? 'nav-link-active' : ''}`}
          data-testid="nav-contact"
        >
          Contact
        </a>
      </div>
    </nav>
  </div>
</header>

<script>
  // Client-side logging for header interactions
  import { logComponentLifecycle } from '../lib/logger';

  // Log when header becomes interactive
  logComponentLifecycle('Header', 'interactive', {
    pathname: window.location.pathname,
  });

  // Track navigation clicks
  document.querySelectorAll('nav a').forEach(link => {
    link.addEventListener('click', () => {
      logComponentLifecycle('Header', 'navigation_click', {
        href: link.getAttribute('href'),
        text: link.textContent?.trim(),
      });
    });
  });
</script>
